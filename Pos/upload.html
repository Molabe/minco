<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="Ručne vyrábané fotomagnetky z vašich najlepších momentov. Vyberte si z rôznych formátov a vytvorte originálny darček alebo dekoráciu pre vašu domácnosť.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow">
    <meta name="keywords" content="fotomagnetky, ručne vyrábané magnetky, darčeky, magnetky na chladničku">
    <meta property="og:title" content="Spognetky.sk - Ručne vyrábané fotomagnetky">
    <meta property="og:description" content="Vytvorte ručne vyrábané fotomagnetky z vašich obľúbených momentov.">
    <meta property="og:image" content="https://www.spognetky.sk/img/velka.jpg">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.spognetky.sk">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Spognetky.sk - Ručne vyrábané fotomagnetky">
    <meta name="twitter:description" content="Vytvorte ručne vyrábané fotomagnetky z vašich obľúbených momentov.">
    <meta name="twitter:image" content="https://www.spognetky.sk/img/velka.jpg">
    <link rel="icon" href="./img/logo.png" type="image/x-icon">
    <link rel="canonical" href="https://www.spognetky.sk">
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap" as="style">
    <title>Spognetky.sk - Nahrajte svoj obrázok</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap');

        body {
            margin: 0;
            padding: 0;
            background: linear-gradient(90deg, rgba(1,2,2,1) 0%, rgba(39,89,75,1) 100%);
        }

        .quicksand-300 {
            font-family: "Quicksand", sans-serif;
            font-optical-sizing: auto;
            font-weight: 300;
            font-style: normal;
        }

        .quicksand-500 {
            font-family: "Quicksand", sans-serif;
            font-optical-sizing: auto;
            font-weight: 500;
            font-style: normal;
        }

        .quicksand-700 {
            font-family: "Quicksand", sans-serif;
            font-optical-sizing: auto;
            font-weight: 700;
            font-style: normal;
        }

        .btn-custom {
            background-color: #4BBF9F;
            border: 2px solid #000000;
            border-radius: 10px;
            color: inherit;
            text-decoration: none;
        }

        .btn-custom:hover {
            background-color: #3f9d80;
        }

        .image-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }

        .individual-image-container {
            margin-bottom: 20px;
            max-width: 100%;
            position: relative;
            width: 300px; /* You can adjust this width as needed */
        }

        .individual-image-container img {
            width: 100%;
            height: auto;
        }

        .control-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 10px;
        }

        .btn-control {
            background-color: #4BBF9F;
            border: 2px solid #000000;
            color: white;
            padding: 5px 15px;
            border-radius: 5px;
        }

        .btn-control:hover {
            background-color: #3f9d80;
        }

        #orderForm {
            display: none;
            margin-top: 20px;
        }
    </style>
</head>
<body>

<!-- Main Section -->
<div class="container-fluid text-center">
    <div class="row g-0">
        <div class="col p-0 m-0 text-center" style="background: #e6fff8; height: 80vh;">
            <div class="container pt-4">
                <h4 class="quicksand-700">Nahrajte svoju fotku a začnite tvoriť svoje Spognetky</h4>

                <form id="uploadForm" action="/upload-handler" method="POST" enctype="multipart/form-data">
                    <div class="mb-3">
                        <label for="photo" class="form-label quicksand-500">Vyberte súbor na nahratie</label>
                        <input class="form-control" type="file" id="photo" name="photo" accept="image/*" multiple required>
                    </div>

                    <button type="button" class="btn btn-custom" id="orderBtn">Objednať</button>
                </form>

                <!-- Order Form (hidden initially) -->
                <div id="orderForm">
                    <form action="/submit-order" method="POST">
                        <div class="mb-3">
                            <label for="name" class="form-label quicksand-500">Meno</label>
                            <input type="text" class="form-control" id="name" name="name" required>
                        </div>
                        <div class="mb-3">
                            <label for="email" class="form-label quicksand-500">Email</label>
                            <input type="email" class="form-control" id="email" name="email" required>
                        </div>
                        <div class="mb-3">
                            <label for="phone" class="form-label quicksand-500">Telefónne číslo</label>
                            <input type="text" class="form-control" id="phone" name="phone" required>
                        </div>
                        <div class="mb-3">
                            <label for="address" class="form-label quicksand-500">Adresa doručenia</label>
                            <input type="text" class="form-control" id="address" name="address" required>
                        </div>
                        <div class="mb-3">
                            <label for="format" class="form-label quicksand-500">Formát magnetky</label>
                            <select class="form-select" id="format" name="format" required>
                                <option value="515x515">515x515 mm (2.50€)</option>
                                <option value="515x823">515x823 mm (3.00€)</option>
                            </select>
                        </div>
                        <button type="submit" class="btn btn-custom">Potvrdiť objednávku</button>
                    </form>
                </div>

                <!-- Uploaded Image & Controls -->
                <div id="image-container" class="image-container"></div>

            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/cropperjs@1.5.12/dist/cropper.min.js"></script>
<script>
    const photoInput = document.getElementById('photo');
    const imageContainer = document.getElementById('image-container');
    const orderBtn = document.getElementById('orderBtn');
    const orderForm = document.getElementById('orderForm');

    // Funkcia na vytvorenie nového obrázka s individuálnymi ovládacími prvkami
    photoInput.addEventListener('change', function (event) {
        const files = event.target.files;

        // Pre každý obrázok, ktorý používateľ nahrá, vytvoríme nový kontajner a cropper
        Array.from(files).forEach(file => {
            const reader = new FileReader();

            reader.onload = function (e) {
                // Vytvoriť nový obrázok
                const img = document.createElement('img');
                img.src = e.target.result;
                img.classList.add('img-fluid'); // Add bootstrap class for responsive image

                // Vytvoriť kontajner pre obrázok
                const imgContainer = document.createElement('div');
                imgContainer.classList.add('individual-image-container');
                imgContainer.appendChild(img);

                // Pridať tento nový obrázok do image-container
                imageContainer.appendChild(imgContainer);

                // Inicializovať Cropper
                new Cropper(img, {
                    aspectRatio: 1,
                    viewMode: 1,
                    scalable: true,
                    zoomable: true,
                    rotatable: true,
                });
            };

            reader.readAsDataURL(file);
        });
    });

    // Akcia pre tlačidlo "Objednať"
    orderBtn.addEventListener('click', function () {
        orderForm.style.display = 'block'; // Zobraziť formulár pre objednávku
        orderBtn.style.display = 'none';  // Skryť tlačidlo "Objednať"
    });
</script>

</body>
</html>
